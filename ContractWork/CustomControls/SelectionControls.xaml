<UserControl x:Class="ContractWork.CustomControls.SelectionControls"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:ContractWork.CustomControls"
             xmlns:converters="clr-namespace:ContractWork.Converters"
             mc:Ignorable="d"
             
             d:DesignHeight="450" d:DesignWidth="800"
             x:Name="SelectionControl"
             >
    <UserControl.Resources>
        
        <converters:DarkenColorConverter x:Key="Darken" />

        <Style TargetType="{x:Type Button}" BasedOn="{StaticResource RoundBtnShadow}">
            <Setter Property="Background"
                Value="{Binding MaintBackground, ElementName=SelectionControl}" />
            <Setter Property="Border.CornerRadius"  Value="{Binding MaintCornerRadius, ElementName=SelectionControl}"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background"
                        Value="{Binding MaintBackground, ElementName=SelectionControl, Converter={StaticResource Darken}}" />
                    <Setter Property="Cursor" Value="Hand"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" 
                                    Value="#A6AEB9"/>
                    <Setter Property="BorderBrush" 
                                    Value="{StaticResource Button.Pressed.Border}"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!--{StaticResource Button.Pressed.Background}
    {StaticResource Button.Pressed.Border}-->

    </UserControl.Resources>

    <Border 
    Background="{Binding btnBrdrBackground}" 
    Margin="{Binding btnBrdrMargin, ElementName=SelectionControl}"
    Height="{Binding btnBrdrHeight, ElementName=SelectionControl}"
    Width="{Binding btnBrdrWidth, ElementName=SelectionControl}"
    BorderBrush="{Binding btnBrdrBrush, ElementName=SelectionControl}"
    BorderThickness="{Binding btnBrdrThickness, ElementName=SelectionControl}"
    CornerRadius="{Binding btnBrdrCornerRadius, ElementName=SelectionControl}"
    HorizontalAlignment="{Binding btnHorizAlign, ElementName=SelectionControl}"
    VerticalAlignment="{Binding btnVertAlign, ElementName=SelectionControl}" 
    >
        <Border 
        BorderBrush="{Binding btn2ndBrdrBrush, ElementName=SelectionControl}"
        BorderThickness="{Binding btn2ndBrdrThickness, ElementName=SelectionControl}"
        CornerRadius="{Binding btnBrdrCornerRadius, ElementName=SelectionControl}" 
        >

            <Grid>
                <Button 
                Margin="0"
                Height="{Binding btnHeight, ElementName=SelectionControl}"
                Width="{Binding btnWidth, ElementName=SelectionControl}"
                Command="{Binding btnClickCommand, ElementName=SelectionControl}"
                CommandParameter="{Binding btnCmdParameter, ElementName=SelectionControl}"
                Click="OnBtnClick"
            >
                    <Button.Content>
                        <StackPanel>
                            <Image Name="image1"  
                           Source="{Binding ImageSource, ElementName=SelectionControl}" 
                           Stretch="Fill" 
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           Margin="{Binding ImageMargin, ElementName=SelectionControl}">
                                <Image.Style>
                                    <Style TargetType="Image">
                                        <Setter Property="Visibility" Value="Visible" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding Path=ImageSource, 
                                    RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=Button}}" 
                                                 Value="null">
                                                <Setter Property="Visibility" Value="Collapsed" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </Image.Style>
                            </Image>

                            <TextBlock Margin="0"
                       FontSize="{Binding btnContentFontSize, ElementName=SelectionControl}"
                       TextWrapping="Wrap"
                       FontFamily="Segoe UI"
                       FontWeight="Normal"
                       TextAlignment="Center"
                       Foreground="{Binding btnForeground, ElementName=SelectionControl}"
                       VerticalAlignment="{Binding TextVertAlign, ElementName=SelectionControl}"
                       Text="{Binding btnContentText, ElementName=SelectionControl}"
                        />
                        </StackPanel>
                    </Button.Content>

                </Button>

            </Grid>
        </Border>
    </Border>
</UserControl>
